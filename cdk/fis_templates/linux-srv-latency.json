{
    "description": "Inject CPU stress on Linux",
    "targets": {
        "Instances-Target-1": {
            "resourceType": "aws:ec2:instance",
            "resourceTags": {
                "Name": "FisLinuxCPUStress"
            },
            "selectionMode": "ALL"
        }
    },
    "actions": {
        "LinuxBurnCPUviaSSM": {
            "actionId": "aws:ssm:send-command",
            "description": "Inject CPU stress on Linux",
            "parameters": {
                "documentArn": "arn:aws:ssm:<REGION>::document/AWSFIS-Run-CPU-Stress",
                "documentParameters": "{\"DurationSeconds\":120}",
                "duration": "PT2M"
            },
            "targets": {
                "Instances": "Instances-Target-1"
            }
        }
    },
    "stopConditions": [
        {
            "source": "aws:cloudwatch:alarm",
            "value": "arn:aws:cloudwatch:<REGION>:<ACCOUNT ID>:alarm:fis_test"
        }
    ],
    "roleArn": "arn:aws:iam::<ACCOUNT ID>:role/FisCpuStress-FISRole-ABQSP4P1XSGQ",
    "tags": {
        "Name": "LinuxBurnCPUviaSSM"
    }
}